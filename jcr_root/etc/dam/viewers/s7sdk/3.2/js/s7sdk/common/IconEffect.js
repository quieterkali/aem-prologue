/*!************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2011 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/
(function(a){if(!a.IconEffect){a.IconEffect=function IconEffect(c,d,f,g,b){arguments.callee.superclass.call(this,null,c.id,"div","s7iconeffect");this.container_=c;this.baseOpacity_=null;this.currentOpacity_=0;this.hiddenState_=true;this.iconType_="standard";this.iconWidth=0;this.iconHeight=0;var e=a.browser.device;if(e.name=="ipad"||e.name=="ipod"||e.name=="iphone"||(e.name=="android"&&parseFloat(e.version)>=3)){this.iconType_="multitouch"}this.iconEffectDiv_=this.createDiv();this.enabled=d;this.count=f;this.fade=g;this.autoHide=b;this.fadeTimeoutId=null};a.Class.inherits("s7sdk.IconEffect","s7sdk.UIComponent");a.IconEffect.prototype.createDiv=function(){this.createElement();var b=this.obj;b.setAttribute("media-type",this.iconType_);b.style.pointerEvents="none";b.style.position="absolute";return b};a.IconEffect.prototype.setCSSSizes=function(){this.iconWidth=parseInt(a.Util.getStyle(this.iconEffectDiv_,"width"));this.iconHeight=parseInt(a.Util.getStyle(this.iconEffectDiv_,"height"));var c=parseInt(a.Util.getStyle(this.iconEffectDiv_,"padding"));var b=parseInt(a.Util.getStyle(this.iconEffectDiv_,"border"));if(a.Util.isNumber(c)){this.iconWidth+=c*2;this.iconHeight+=c*2}if(a.Util.isNumber(b)){this.iconWidth+=b*2;this.iconHeight+=b*2}};a.IconEffect.prototype.show=function(e,d){if(!this.hiddenState_||this.count==0||!this.enabled){return}if(this.count>0){this.count--}this.hiddenState_=false;this.container_.obj.appendChild(this.iconEffectDiv_);this.setCSSSizes();if(this.baseOpacity_==null){this.baseOpacity_=a.Util.getStyle(this.iconEffectDiv_,"opacity")}this.centerOverlay(e||this.container_.wid,d||this.container_.hei);var c=this;function b(){if(c.currentOpacity_<1&&!c.hiddenState_){c.currentOpacity_+=0.05/c.fade;a.Util.setOpacity(c.iconEffectDiv_,c.baseOpacity_*c.currentOpacity_);if(a.browser.device.name=="android"&&a.browser.device.version=="4"){var f=c.iconEffectDiv_.offsetWidth}c.fadeTimeoutId=setTimeout(b,50)}else{c.fadeTimeoutId=null}}if(this.fade>0){b()}else{this.currentOpacity_=1;a.Util.setOpacity(this.iconEffectDiv_,this.baseOpacity_*this.currentOpacity_)}if(this.autoHide>0){if(this.displayTimeoutId){clearTimeout(this.displayTimeoutId);this.displayTimeoutId=null}this.displayTimeoutId=setTimeout(function(){c.hide()},(c.autoHide+c.fade)*1000)}};a.IconEffect.prototype.hide=function(){if(this.hiddenState_){return}this.hiddenState_=true;var b=this;function c(){if(b.hiddenState_){if(b.currentOpacity_>0){b.currentOpacity_-=0.05/b.fade;a.Util.setOpacity(b.iconEffectDiv_,b.baseOpacity_*b.currentOpacity_);b.fadeTimeoutId=setTimeout(c,50)}else{b.fadeTimeoutId=null;if(b.iconEffectDiv_.parentNode!=null){b.iconEffectDiv_.parentNode.removeChild(b.iconEffectDiv_)}}}}if(this.fade>0){c()}else{this.currentOpacity_=0;a.Util.setOpacity(this.iconEffectDiv_,this.baseOpacity_*this.currentOpacity_);if(this.iconEffectDiv_.parentNode!=null){this.iconEffectDiv_.parentNode.removeChild(this.iconEffectDiv_)}}};a.IconEffect.prototype.dispose=function(){if(this.iconEffectDiv_.parentNode){this.iconEffectDiv_.parentNode.removeChild(this.iconEffectDiv_)}if(this.displayTimeoutId){clearTimeout(this.displayTimeoutId);this.displayTimeoutId=null}if(this.fadeTimeoutId){clearTimeout(this.fadeTimeoutId);this.fadeTimeoutId=null}};a.IconEffect.prototype.centerOverlay=function(c,b){this.iconEffectDiv_.style.left=(c-(this.iconEffectDiv_.offsetWidth?this.iconEffectDiv_.offsetWidth:this.iconWidth))/2+"px";this.iconEffectDiv_.style.top=(b-(this.iconEffectDiv_.offsetHeight?this.iconEffectDiv_.offsetHeight:this.iconHeight))/2+"px"}}})(s7getCurrentNameSpace());