/*!************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2011 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/
(function(b){b.pkg("s7sdk.video");b.Util.require("s7sdk.common.Button");b.Util.require("s7sdk.event.Event");if(!b.video.VideoTimeControl){b.video.VideoTimeControl=function(c){arguments.callee.superclass.apply(this,[c,b.video.VideoTimeControl.NS,c.constructor,b.video.VideoTime.RESTRICTED_STYLES])};b.video.VideoTimeControl.prototype.rebuild=function(d){if(this.component){var c=this.component.getPlayedTime();var e=this.component.getDuration();this.superclass.prototype.rebuild.apply(this,[d]);this.component.setDuration(e);this.component.setPlayedTime(c)}};b.video.VideoTimeControl.NS="s7sdk.video.VideoTimeControl"}b.Class.inherits(b.video.VideoTimeControl.NS,"s7sdk.ControlComponent");if(!b.video.VideoTime){b.video.VideoTime=function VideoTime(c,e,d){var g=!!arguments[3];d=(typeof d=="string"&&d.length)?d:"VideoTime_"+b.Util.createUniqueId();arguments.callee.superclass.apply(this,[d,c,"div","s7videotime",e,g]);this.createElement();this.container=this.getParent();this.playedTime=0;this.duration=0;this.content=document.createElement("div");this.setText();this.obj.appendChild(this.content);this.attachToContainer();this.obj.videoTimeObj=this;this.hint=this.getLocalizedText("TOOLTIP");if(this.hint&&this.hint.length){this.toolTip=new b.SimpleToolTip(this.obj,this.hint)}var f=parseInt(b.Util.css.getCss("s7videotime","width",this.compId,null,this.container));var h=parseInt(b.Util.css.getCss("s7videotime","height",this.compId,null,this.container));this.resize(f,h);if(!g){return new b.video.VideoTimeControl(this)}else{return this}};b.Class.inherits("s7sdk.video.VideoTime","s7sdk.UIComponent");b.video.VideoTime.prototype.symbols={TOOLTIP:"Video Time"};b.video.VideoTime.RESTRICTED_STYLES={s7videotime:["width","height"]};b.video.VideoTime.prototype.modifiers={timePattern:{params:["timepattern"],defaults:["m:ss"]},showDuration:{params:["showduration"],defaults:[true]}};b.video.VideoTime.prototype.hide=function(){this.obj.style.visibility="hidden"};b.video.VideoTime.prototype.show=function(c,d){this.obj.style.visibility="inherit";this.obj.style.left=c+"px";this.obj.style.top=(d-this.obj.clientHeight)+"px"};b.video.VideoTime.prototype.getPlayedTime=function(){return this.playedTime};b.video.VideoTime.prototype.setPlayedTime=function(c){this.playedTime=c;this.setText()};b.video.VideoTime.prototype.getDuration=function(){return this.duration};b.video.VideoTime.prototype.setDuration=function(c){this.duration=c;this.setText()};b.video.VideoTime.toFormattedTimeStringWithPattern=function(f,l){if(!isFinite(f)){f=0}var i=Math.floor(f/3600000);var e=f-i*3600;var g=Math.floor(e/60000);var j=Math.floor((e%60000)/1000);var d=l;var k=false;var c=false;if(d.match(/(hh+)/i)!=null){d=d.replace(d.match(/(hh+)/i)[0],i.toString());k=true}if(d.match(/(h+)/i)!=null){d=d.replace(d.match(/(h+)/i)[0],i.toString());k=true}if(!k){g+=i*60}var h=g.toString();if(d.match(/(mm+)/i)!=null){h=h.length==1?"0"+h:h;d=d.replace(d.match(/(mm+)/i)[0],h);c=true}else{if(d.match(/(m+)/i)!=null){d=d.replace(d.match(/(m+)/i)[0],h);c=true}}if(c){h=j.toString();if(d.match(/(ss+)/i)!=null){h=h.length==1?"0"+h:h;d=d.replace(d.match(/(ss+)/i)[0],h)}else{if(d.match(/(s+)/i)!=null){d=d.replace(d.match(/(s+)/i)[0],h)}}}else{if(!k){h=i*60+g*60+j.toString();if(d.match(/(s+)/i)!=null){d=d.replace(d.match(/(s+)/i)[0],h)}}else{d=""}}return d};b.video.VideoTime.prototype.toFormattedTimeString=function(c){return b.video.VideoTime.toFormattedTimeStringWithPattern(c,this.timePattern)};b.video.VideoTime.prototype.measureText=function(d){var c=parseInt(b.Util.css.getCss("s7videotime","font-size",this.compId,null,this.container));var g=document.createElement("div");document.body.appendChild(g);g.style.fontSize=""+c+"px";g.style.position="absolute";g.style.left=-1000;g.style.top=-1000;g.innerHTML=d;var e=parseInt(b.Util.css.getCss("s7videotime","padding-left",this.compId,null,this.container));var j=parseInt(b.Util.css.getCss("s7videotime","padding-right",this.compId,null,this.container));var h=parseInt(b.Util.css.getCss("s7videotime","padding-top",this.compId,null,this.container));var i=parseInt(b.Util.css.getCss("s7videotime","padding-bottom",this.compId,null,this.container));var f={width:g.clientWidth+j+e,height:g.clientHeight+h+i};document.body.removeChild(g);g=null;return f};b.video.VideoTime.prototype.autoSize=function(){var c=this.content.innerHTML;var d=this.measureText(c).width;var e=this.measureText(c).height;this.resize(d,e)};b.video.VideoTime.prototype.setText=function(){var c=this.toFormattedTimeString(this.playedTime)+(this.showDuration?" / "+this.toFormattedTimeString(this.duration):"");this.content.innerHTML=c};b.video.VideoTime.prototype.dispose=function(){if(this.obj){this.cleanUp();if(this.obj.parentElement){this.obj.parentElement.removeChild(this.obj)}}};b.video.VideoTime.prototype.cleanUp=function(){b.Util.removeTags(this.obj);this.obj.style.cssText=""};b.video.VideoTime.prototype.setModifier=function(c){throw new Error("Trying to use setModifier on the Core class (VideoTime) is unsupported! Please refer to SDK documentation on using setModifier.")};b.video.VideoTime.prototype.setCSS=function(e,d,c){if(this.isRestrictedCSSProperty(b.video.VideoTime.RESTRICTED_STYLES,d)){throw new Error("You cannot set "+e+" : "+d+" CSS property for this component ")}else{this.superclass.superclass.prototype.setCSS.apply(this,[e,d,c])}};b.video.VideoTime.prototype.getWidth=function(){return this.wid};b.video.VideoTime.prototype.getHeight=function(){return this.hei};b.video.VideoTime.prototype.resize=function(c,d){this.wid=c;this.hei=d;this.obj.style.width=c+"px";this.obj.style.height=d+"px";b.UIComponent.prototype.resize.apply(this,[c,d])};b.VideoTime=b.video.VideoTime;(function a(){var d=b.Util.css.createCssRuleText;var c=d(".s7videotime",{position:"absolute",width:"57px",height:"15px","white-space":"nowrap","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","font-family":"Arial, Helvetica, sans-serif","font-size":"12px",padding:"4px"});b.Util.css.addDefaultCSS(c,"VideoTime")})()}if(!b.video.VideoScrubberControl){b.video.VideoScrubberControl=function(c){arguments.callee.superclass.apply(this,[c,b.video.VideoScrubberControl.NS,c.constructor,b.video.VideoScrubber.RESTRICTED_STYLES])};b.video.VideoScrubberControl.NS="s7sdk.video.VideoScrubberControl";b.video.VideoScrubberControl.prototype.rebuild=function(l){if(this.component){var k=this.component.getPlayedTime();var e=this.component.getLoadedPosition();var h=this.component.getPosition();var g=this.component.getDuration();var d=this.component.navigation;var i=this.component.showChapterTitle;var f=this.component.showChapterTime;var c=this.component.chapterTimePattern;var j=this.curChapter;this.superproto.rebuild.apply(this,[l]);this.component.setDuration(g);this.component.setPlayedTime(k);this.component.setLoadedPosition(e);this.component.setPosition(h);this.component.setNavigation(d);this.component.showChapterTitle=i;this.component.showChapterTime=f;this.component.chapterTimePattern=c;this.curChapter=j}};b.video.VideoScrubberControl.prototype.setModifier=function(j){var c;var h,g,f;for(var e in j){var d=e.toLowerCase();f=false;if(d=="showchaptertitle"){value=j[e];h=this.component.showChapterTitle;g=this.component.showChapterTitle=parseInt(value)!=0;f=true}else{if(d=="showchaptertime"){value=j[e];h=this.component.showChapterTime;g=this.component.showChapterTime=parseInt(value)!=0;f=true}else{if(d=="chaptertimepattern"){value=j[e];h=this.component.chapterTimePattern;g=this.component.chapterTimePattern=value;f=true}else{if(!c){c={}}c[e]=j[e]}}}if(f){this.dispatchEvent(new b.event.ControlComponentEvent(b.event.ControlComponentEvent.NOTF_CONTROLCOMPONENT_MODIFIERUPDATED,{id:this.component.getId(),oldvalue:h,newvalue:g,property:d},false))}}if(c){this.superclass.prototype.setModifier.apply(this,[c])}}}b.Class.inherits(b.video.VideoScrubberControl.NS,"s7sdk.ControlComponent");if(!b.video.VideoScrubber){b.video.VideoScrubber=function VideoScrubber(d,f,e){var g=!!arguments[3];e=(typeof e=="string"&&e.length)?e:"VideoScrubber_"+b.Util.createUniqueId();arguments.callee.superclass.apply(this,[e,d,"div","s7videoscrubber",f,!g]);this.createElement();this.container=this.getParent();this.playedTime=0;this.loadedPosition=0;this.duration=0;this.inDrag=false;this.offsetX=0;this.videoTime=0;this.track=b.Util.createObj(null,"div",null,"s7track");this.obj.appendChild(this.track);this.trackloaded=b.Util.createObj(null,"div",null,"s7trackloaded");this.trackloaded.style.width=0;this.obj.appendChild(this.trackloaded);this.trackplayed=b.Util.createObj(null,"div",null,"s7trackplayed");this.trackplayed.style.width=0;this.obj.appendChild(this.trackplayed);this.knob=b.Util.createObj(null,"div",null,"s7knob");this.obj.appendChild(this.knob);this.container.appendChild(this.obj);this.inTouch=false;if(this.showTime){this.timeParams=new b.ParameterManager();this.timeParams.push("showduration","0");this.timeParams.push("timepattern",this.timePattern);this.videoTime=new b.video.VideoTime(e,this.timeParams,e+"Time",true);this.videoTime.setPlayedTime(0);this.videoTime.show(this.knob.offsetLeft+(this.knob.offsetWidth-this.videoTime.getObj().offsetWidth)/2,0);this.videoTime.hide()}this.w=parseInt(b.Util.css.getCss("s7videoscrubber","width",e,null,this.getParent()));this.h=parseInt(b.Util.css.getCss("s7videoscrubber","height",e,null,this.getParent()));this.resize(this.w,this.h);var c=this;this.mdown=function(h){c.handleMouse(h,1)};this.addEventListener("mousedown",this.mdown);this.mup=function(h){c.handleMouse(h,2)};this.addEventListener("mouseup",this.mup);b.Event.addDOMListener(this.knob,"touchstart",function(h){c.handleTouch(h,1)},true);b.Event.addDOMListener(this.knob,"touchend",function(h){c.handleTouch(h,2)},true);b.Event.addDOMListener(this.knob,"touchmove",function(h){c.handleTouch(h,3)},true);this.obj.videoScrubberObj=this;this.navigation=null;this.navigationObjs=[];this.winMouseMoveHandler=function(h){c.winMouseMove(h)};this.winMouseUpHandler=function(h){c.winMouseUp(h)};this.hint=this.getLocalizedText("TOOLTIP");this.chapterLabel=null;this.chapterHeader=null;this.chapterTime=null;this.chapterTitle=null;this.chapterDesc=null;this.chapterTail=null;this.chapterHeader_d_style=null;this.chapterTime_d_style=null;this.curChapter=null;this.createChapterLabel();this.__chapterDownHandler=function(h){c.handleChapter(h,1)};this.__chapterUpHandler=function(h){c.handleChapter(h,2)};b.Event.addDOMListener(this.chapterLabel,"mousedown",this.__chapterDownHandler,true);b.Event.addDOMListener(this.chapterLabel,"mouseup",this.__chapterUpHandler,true);b.Event.addDOMListener(this.chapterLabel,"touchstart",this.__chapterDownHandler,true);b.Event.addDOMListener(this.chapterLabel,"touchend",this.__chapterUpHandler,true);this.__rollOverHandler=function(h){c.rollOverHandler(h)};this.__rollOutHandler=function(h){c.rollOutHandler(h)};if(this.hint&&this.hint.length){this.toolTip=new b.SimpleToolTip(this.obj,this.hint);if(this.toolTip&&this.toolTip.toolTip_){this.toolTipVis=this.toolTip.toolTip_.style.visibility}}if(!g){return new b.video.VideoScrubberControl(this)}else{return this}};b.Class.inherits("s7sdk.video.VideoScrubber","s7sdk.UIComponent");b.video.VideoScrubber.prototype.symbols={TOOLTIP:"Seek Video"};b.video.VideoScrubber.RESTRICTED_STYLES={s7videoscrubber:["width","height"],"s7videoscrubber s7track":["width","height"],"s7videoscrubber s7trackloaded":["width","height"],"s7videoscrubber s7trackplayed":["width","height"],"s7videoscrubber s7knob":["width","height"],"s7videoscrubber s7videotime":["width","height"]};b.video.VideoScrubber.prototype.setModifier=function(c){throw new Error("Trying to use setModifier on the Core class (VideoScrubber) is unsupported! Please refer to SDK documentation on using setModifier.")};b.video.VideoScrubber.prototype.dispose=function(){if(this.obj){this.cleanUp();if(this.obj.parentElement){this.obj.parentElement.removeChild(this.obj)}}};b.video.VideoScrubber.prototype.setCSS=function(e,d,c){if(this.isRestrictedCSSProperty(b.video.VideoScrubber.RESTRICTED_STYLES,d)){throw new Error("You cannot set "+e+" : "+d+" CSS property for this component ")}else{this.superclass.superclass.prototype.setCSS.apply(this,[e,d,c])}};b.video.VideoScrubber.prototype.cleanUp=function(){if(this.obj){b.Event.removeDOMListener(this.chapterLabel,"mousedown",this.__chapterDownHandler);b.Event.removeDOMListener(this.chapterLabel,"mouseup",this.__chapterUpHandler);b.Event.removeDOMListener(this.chapterLabel,"touchstart",this.__chapterDownHandler);b.Event.removeDOMListener(this.chapterLabel,"touchend",this.__chapterUpHandler);this.removeNavigation();this.removeEventListener("mousedown",this.mdown);this.removeEventListener("mouseup",this.mup);this.timeParams.dispose();this.timeParams=null;b.Util.removeTags(this.obj);this.obj.style.cssText=""}};b.video.VideoScrubber.prototype.modifiers={timePattern:{params:["timepattern"],defaults:["m:ss"]},showTime:{params:["showtime"],defaults:[true]},showChapterTitle:{params:["showchaptertitle"],defaults:[true]},showChapterTime:{params:["showchaptertime"],defaults:[true]},chapterTimePattern:{params:["chaptertimepattern"],defaults:["m:ss"]}};b.video.VideoScrubber.prototype.addEventListener=function(e,d,c){this.superproto.addEventListener.apply(this,[e,d,c])};b.video.VideoScrubber.prototype.getPlayedTime=function(){return this.playedTime};b.video.VideoScrubber.prototype.setPlayedTime=function(c){this.playedTime=c;if(this.duration==0){return}else{if(c>this.duration){this.playedTime=this.duration}}this.trackplayed.style.width=((this.playedTime/this.duration)*this.track.clientWidth)+"px";if(!this.inTouch){this.updateKnob()}};b.video.VideoScrubber.prototype.getLoadedPosition=function(){return this.loadedPosition};b.video.VideoScrubber.prototype.setLoadedPosition=function(c){this.loadedPosition=c;if(this.duration==0){return}else{this.trackloaded.style.width=((this.loadedPosition/this.duration)*this.track.clientWidth)+"px"}};b.video.VideoScrubber.prototype.getPosition=function(){var c=this.knob.offsetLeft+this.knob.offsetWidth/2;return(c-this.track.offsetLeft)/this.track.offsetWidth};b.video.VideoScrubber.prototype.setPosition_=function(e,d){var c=this.getCSSWidth(e);var f=this.track.offsetLeft+Math.min(1,Math.max(0,d))*this.track.offsetWidth-c/2;e.style.left=f+"px"};b.video.VideoScrubber.prototype.setPosition=function(c){this.setPosition_(this.knob,c)};b.video.VideoScrubber.prototype.getDuration=function(){return this.duration};b.video.VideoScrubber.prototype.setDuration=function(c){this.duration=c;this.updateKnob();this.updateNavigation();this.setLoadedPosition(this.loadedPosition)};b.video.VideoScrubber.prototype.updateKnob=function(){if((!this.inDrag)&&(this.duration>0)){this.knob.style.left=(this.track.offsetLeft+(this.playedTime/this.duration)*this.track.clientWidth-this.knob.clientWidth/2)+"px"}};b.video.VideoScrubber.prototype.winMouseMove=function(c){this.moveTo(c.clientX);if(this.videoTime){this.videoTime.setPlayedTime(this.getPosition()*this.getDuration());this.videoTime.show(this.knob.offsetLeft+(this.knob.offsetWidth-this.videoTime.getObj().offsetWidth)/2,0)}this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_MOVE)};b.video.VideoScrubber.prototype.winMouseUp=function(c){if(this.inDrag){this.inDrag=false;var d=b.browser.name=="ie"?document:window;b.Event.removeDOMListener(d,"mousemove",this.winMouseMoveHandler,true);b.Event.removeDOMListener(d,"mouseup",this.winMouseUpHandler,true);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP)}if(this.videoTime){this.videoTime.hide()}if(this.toolTip&&this.toolTip.toolTip_){this.toolTip.toolTip_.style.visibility=this.toolTipVis}};b.video.VideoScrubber.prototype.handleMouse=function(d,c){b.Event.preventDefault(d);b.Event.stopPropagation(d);if(c==1){var k=(d.target||d.srcElement);if(k!=this.knob){var h=this.navigationObjs;if(h&&h.length>0){for(var f=0;f<h.length;f++){if(k==h[f]){var g=this.navigation.getItems()[f];b.Logger.log(b.Logger.FINE,"Navigation diamond %0: %1",f,g);var l=g.start/this.duration;this.setPosition_(this.knob,l);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP);return}}}this.offsetX=0;this.moveTo(d.clientX-b.Util.getObjPos(this.track).x);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP);return}this.offsetX=d.clientX-this.knob.offsetLeft;this.lastX=d.clientX;this.inDrag=true;if(this.videoTime){this.videoTime.setPlayedTime(this.getPlayedTime());this.videoTime.show(this.knob.offsetLeft+(this.knob.offsetWidth-this.videoTime.getObj().offsetWidth)/2,0)}var j=b.browser.name=="ie"?document:window;b.Event.addDOMListener(j,"mousemove",this.winMouseMoveHandler,true);b.Event.addDOMListener(j,"mouseup",this.winMouseUpHandler,true);var e=new b.event.SliderEvent(b.event.SliderEvent.NOTF_SLIDER_DOWN,this.getPosition(),true);b.Event.dispatch(this.obj,e,false);if(this.toolTip&&this.toolTip.toolTip_){this.toolTip.toolTip_.style.visibility="hidden"}}else{if(this.videoTime){this.videoTime.hide()}this.winMouseUp(d)}};b.video.VideoScrubber.prototype.handleTouch=function(c,d){b.Event.preventDefault(c);b.Event.stopPropagation(c);if(d==1){if(c.target==this.knob){this.offsetX=c.targetTouches[0].clientX-this.knob.offsetLeft;this.lastX=c.targetTouches[0].clientX;this.inTouch=true;if(this.videoTime){this.videoTime.setPlayedTime(this.getPlayedTime());this.videoTime.show(this.knob.offsetLeft+(this.knob.offsetWidth-this.videoTime.getObj().offsetWidth)/2,0)}this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_DOWN)}else{this.offsetX=0;this.moveTo(c.targetTouches[0].clientX-b.Util.getObjPos(this.track).x);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP)}}else{if(d==2){if(this.inTouch){this.inTouch=false;this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP)}if(this.videoTime){this.videoTime.hide()}}else{if(d==3){this.moveTo(c.targetTouches[0].clientX);if(this.videoTime){this.videoTime.setPlayedTime(this.getPosition()*this.getDuration());this.videoTime.show(this.knob.offsetLeft+(this.knob.offsetWidth-this.videoTime.getObj().offsetWidth)/2,0)}this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_MOVE)}}}};b.video.VideoScrubber.prototype.moveTo=function(d){var e=d-this.offsetX;var c=this.track.offsetLeft-this.knob.offsetWidth/2;e=Math.min(Math.max(c,e),c+this.track.offsetWidth);this.knob.style.left=e+"px"};b.video.VideoScrubber.prototype.dispatchSliderEvent=function(c){var d=new b.event.SliderEvent(c,this.getPosition(),true);b.Event.dispatch(this.obj,d,false)};b.video.VideoScrubber.prototype.getWidth=function(){return this.w};b.video.VideoScrubber.prototype.getHeight=function(){return this.h};b.video.VideoScrubber.prototype.resize=function(c,f){var i=parseInt(b.Util.getStyle(this.obj,"width").replace("px",""));var e=parseInt(b.Util.getStyle(this.obj,"height").replace("px",""));if(i==c&&e==f){return}var g=this.getPlayedTime();var d=this.getLoadedPosition();i=c>0?c:1;e=f>0?f:1;this.w=i;this.h=e;this.obj.style.width=i+"px";this.obj.style.height=e+"px";this.setLoadedPosition(d);this.setPlayedTime(g);this.updateNavigation()};b.video.VideoScrubber.prototype.setNavigation=function(c){this.navigation=c;if(c){this.curChapter=null;var d=this.navigation.getItems();b.Logger.log(b.Logger.FINE,"%0 navigation items",d.length);for(var e=0;e<d.length;e++){b.Logger.log(b.Logger.FINEST,"%0: %1",e,d[e].toString())}}this.updateNavigation()};b.video.VideoScrubber.prototype.updateNavigation=function(){this.removeNavigation();b.Logger.log(b.Logger.FINE,"s7sdk.video.VideoScrubber.updateNavigation");if(!this.navigation){return}var c=this.navigation.getItems(),f;if(!c||c.length==0){return}if(this.duration<=0){b.Logger.log(b.Logger.FINE,"Cannot set navigation diamonds without video duration");return}for(var d=0;d<c.length;d++){var e=b.Util.createObj(null,"div",null,"s7navigation");b.Util.css.setCSSAttributeSelector(e,"state","default");e.setAttribute("key",d);f=c[d].start/this.duration;if(f<0||f>=1){b.Logger.log(b.Logger.WARN,"Invalid start for navigation cue %0: %1",d,c[d].start)}this.obj.appendChild(e);this.setPosition_(e,f);this.navigationObjs.push(e);b.Event.addDOMListener(e,"mouseover",this.__rollOverHandler,true);b.Event.addDOMListener(e,"mouseout",this.__rollOutHandler,true)}};b.video.VideoScrubber.prototype.removeNavigation=function(){b.Logger.log(b.Logger.FINE,"s7sdk.video.VideoScrubber.hideNavigation");if(!this.navigationObjs){return}for(var c=0;c<this.navigationObjs.length;c++){var d=this.navigationObjs[c];b.Event.removeDOMListener(d,"mouseover",this.__rollOverHandler);b.Event.removeDOMListener(d,"mouseout",this.__rollOutHandler);this.obj.removeChild(d)}this.navigationObjs=[]};b.video.VideoScrubber.prototype.handleChapter=function(e,f){b.Event.preventDefault(e);b.Event.stopPropagation(e);if(f==1){if(this.curChapter!=null&&this.navigation&&this.navigation.getItems()){var d=this.navigation.getItems();if(this.curChapter>=0&&this.curChapter<d.length){var c=d[this.curChapter];b.Logger.log(b.Logger.FINE,"Navigation diamond %0: %1",this.curChapter,c);var g=c.start/this.duration;this.setPosition_(this.knob,g);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP);this.chapterLabel.style.visibility="hidden"}}}};b.video.VideoScrubber.prototype.rollOverHandler=function(e){b.Logger.log(b.Logger.FINE,"rollOverHandler %0",e.target);var d=e.target;if(d&&this.navigationObjs&&this.navigation&&this.navigation.getItems()){var c=d.getAttribute("key");if(c){b.Util.css.setCSSAttributeSelector(d,"state","over");this.curChapter=c;this.updateChapterLabel(c)}}};b.video.VideoScrubber.prototype.rollOutHandler=function(d){b.Logger.log(b.Logger.FINE,"rollOutHandler %0",d.target);var c=d.target;b.Util.css.setCSSAttributeSelector(c,"state","default");this.chapterLabel.style.visibility="hidden"};b.video.VideoScrubber.prototype.createChapterLabel=function(){if(!this.chapterLabel){b.Logger.log(b.Logger.FINE,"s7sdk.video.VideoScrubber.createChapterLabel");this.chapterLabel=b.Util.createObj(null,"div",null,"s7chapter");this.obj.appendChild(this.chapterLabel);this.chapterHeader=b.Util.createObj(null,"div",null,"s7header");this.chapterLabel.appendChild(this.chapterHeader);this.chapterTime=b.Util.createObj(null,"div",null,"s7starttime");this.chapterHeader.appendChild(this.chapterTime);this.chapterTitle=b.Util.createObj(null,"div",null,"s7title");this.chapterHeader.appendChild(this.chapterTitle);this.chapterDesc=b.Util.createObj(null,"div",null,"s7description");this.chapterLabel.appendChild(this.chapterDesc);this.chapterTail=b.Util.createObj(null,"div",null,"s7tail");this.chapterLabel.appendChild(this.chapterTail)}};b.video.VideoScrubber.prototype.updateChapterLabel=function(d){b.Logger.log(b.Logger.FINEST,"Display chapter %0",d);if(!this.navigation){return}var c=this.navigation.getItems();if(d<0&&d>=c.length){b.Logger.log(b.Logger.WARNING,"Invalid chapter index: %0",d);return}var e=this.navigation.getItems()[d];if(this.chapterLabel){if(!e||!e.data||!e.data){b.Logger.log(b.Logger.WARNING,"Invalid WebVttitem: %0",e);return}var f=false;if(this.showChapterTitle){if(this.chapterHeader_d_style){this.chapterHeader.style.display=this.chapterHeader_d_style}if(this.showChapterTime){f=true;var g=b.video.VideoTime.toFormattedTimeStringWithPattern(e.start,this.chapterTimePattern);this.chapterTime.innerHTML=g;if(this.chapterTime_d_style){this.chapterTime.style.display=this.chapterTime_d_style}}else{if(this.chapterTime.style.display!="none"){this.chapterTime_d_style=b.Util.getStyle(this.chapterTime,"display");b.Logger.log(b.FINEST,"Original ChapterTime display style: "+this.chapterTime_d_style);this.chapterTime.style.display="none"}}this.chapterTitle.innerHTML="";if(e.id){f=true;this.chapterTitle.innerHTML=e.id}}if(!f){if(this.chapterHeader.style.display!="none"){this.chapterHeader_d_style=b.Util.getStyle(this.chapterHeader,"display");b.Logger.log(b.FINEST,"Original ChapterHeader display style: "+this.chapterHeader_d_style);this.chapterHeader.style.display="none"}}this.chapterLabel.style.visibility="hidden";this.chapterDesc.innerHTML=e.data;this.positionChapterLabel(d);this.chapterLabel.style.visibility="inherit";if(this.toolTip){this.toolTip.removeToolTip()}}};b.video.VideoScrubber.prototype.getCSSWidth=function(c){if(c.style.width){return parseInt(c.style.width)}else{if(c.offsetWidth){return parseInt(c.offsetWidth)}else{return parseInt(b.Util.getStyle(c,"width").replace("px",""))}}};b.video.VideoScrubber.prototype.positionChapterLabel=function(i){if(this.chapterLabel){b.Logger.log(b.Logger.FINEST,"positionChapterLabel %0",i);var j=this.getCSSWidth(this.chapterLabel);var h=this.navigationObjs[i];var c=parseInt(h.style.left)+h.offsetWidth/2;var g=b.Util.getObjPos(this.obj);var f=b.browser.detectScreen();var d=b.Util.getScrollXY();var k=c-j/2;var l=Math.max(d.x-g.x,-j/2);var e=f.w+d.x-g.x;if(k+j>=e){k=e-j}if(k<l){k=l}this.chapterLabel.style.left=k+"px";this.chapterTail.style.left=(c-k)+"px"}};b.VideoScrubber=b.video.VideoScrubber;(function a(){var f=b.Util.css.createCssRuleText;var e=b.Util.css.createCssImgUrlText;var d=b.browser&&b.browser.name=="ie"&&b.browser.version.major>=10;var c=f(".s7videoscrubber",{position:"absolute","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","-ms-touch-action":d?"none":"","touch-action":d?"none":"",width:"235px",height:"26px"})+f(".s7videoscrubber .s7videotime",{position:"absolute","font-family":"Arial, Helvetica, sans-serif","font-size":"12px",left:"4px",width:"46px",height:"24px",padding:"8px","background-image":e("scrub_time.png"),align:"center","text-align":"center","vertical-align":"middle",color:"#000000"})+f(".s7videoscrubber .s7track, .s7trackloaded, .s7trackplayed",{position:"absolute",left:"8px",right:"8px",top:"35%",height:"31%"})+f(".s7videoscrubber .s7track",{"background-color":"#555555"})+f(".s7videoscrubber .s7trackloaded",{"z-index":"100","background-color":"#666666"})+f(".s7videoscrubber .s7trackplayed",{"z-index":"200","background-color":"#999999"})+f(".s7videoscrubber .s7knob",{position:"absolute",width:"9px",top:"23%",height:"54%","background-image":"none","background-color":"#ffffff","z-index":"1000"})+f(".s7videoscrubber .s7navigation",{position:"absolute",width:"5px",top:"35%",height:"31%","background-color":"transparent","background-repeat":"no-repeat","z-index":"990"})+f(".s7videoscrubber .s7navigation[state='default']",{"background-image":e("scrub_diamond.png")})+f(".s7videoscrubber .s7navigation[state='over']",{"background-image":e("scrub_diamond_over.png")})+f(".s7videoscrubber .s7chapter",{position:"absolute","white-space":"nowrap","max-width":"235px",padding:"0px",height:"auto",bottom:"18px",visibility:"hidden","background-color":"transparent","z-index":"10100"})+f(".s7videoscrubber .s7chapter .s7header",{position:"relative",visibility:"inherit",width:"auto",height:"22px","line-height":"22px","background-color":"rgba(51,51,51,0.8)",padding:"0 12px 0 12px","vertical-align":"middle","z-index":"10101"})+f(".s7videoscrubber .s7chapter .s7header .s7starttime",{position:"relative",width:"auto",visibility:"inherit",display:"inline","font-family":"Arial, Helvetica, sans-serif","font-size":"10px",color:"#dddddd","background-color":"transparent","padding-right":"10px","z-index":"10102"})+f(".s7videoscrubber .s7chapter .s7header .s7title",{position:"relative",width:"auto",visibility:"inherit",display:"inline","text-align":"left","font-family":"Arial, Helvetica, sans-serif","font-size":"10px","font-weight":"bold",color:"#ffffff","background-color":"transparent","z-index":"10102"})+f(".s7videoscrubber .s7chapter .s7description",{position:"relative",width:"auto",height:"auto",visibility:"inherit",padding:"12px 12px 9px 12px","line-height":"100%","text-align":"left","word-wrap":"normal","white-space":"normal","background-color":"rgba(221,221,221,0.9)",color:"#333333","font-family":"Arial, Helvetica, sans-serif","font-size":"11px","z-index":"10103"})+f(".s7videoscrubber .s7chapter .s7tail",{position:"relative",content:"","border-style":"solid","border-color":"rgba(221,221,221,0.9) transparent transparent transparent","border-width":"6px 6px 0px 6px",margin:"0px 0px 0px -6px",display:"block",width:"0px","z-index":"10103"});b.Util.css.addDefaultCSS(c,"VideoScrubber")})()}if(!b.video.VerticalVolume){b.video.VerticalVolume=function VerticalVolume(c,e,d){d=(typeof d=="string"&&d.length)?d:"VerticalVolume_"+b.Util.createUniqueId();arguments.callee.superclass.apply(this,[d,c,"div","s7verticalvolume",e]);this.createElement();this.container=this.getParent();this.buildVolume()};b.Class.inherits("s7sdk.video.VerticalVolume","s7sdk.UIComponent");b.video.VerticalVolume.prototype.symbols={TOOLTIP:""};b.video.VerticalVolume.prototype.buildVolume=function(){this.inTouch=false;this.offsetY=0;this.timer=0;this.track=b.Util.createObj(null,"div",null,"s7track");this.obj.appendChild(this.track);this.filledtrack=b.Util.createObj(null,"div",null,"s7filledtrack");this.track.appendChild(this.filledtrack);this.knob=b.Util.createObj(null,"div",null,"s7knob");this.obj.appendChild(this.knob);var c=this.getParent();if(this.obj.parentNode!=c){c.appendChild(this.obj)}var d=this;this.__mouseDown=function(f){d.WmouseDown(f)};this.__mouseOver=function(f){if(d.timer){clearTimeout(d.timer)}};this.__mouseOut=function(g){var f=g.relatedTarget||g.toElement;if(f==d.obj||f==this.track||f==this.knob||f==d.obj.parent){d.preventDefault(g)}};this.__WmouseMove=function(f){d.WmouseMove(f)};this.__WmouseUp=function(f){d.WmouseUp(f)};b.Event.addDOMListener(this.obj,"mousedown",this.__mouseDown,false);b.Event.addDOMListener(this.obj,"mouseover",this.__mouseOver,false);b.Event.addDOMListener(this.obj,"mouseout",this.__mouseOut,true);b.Event.addDOMListener(this.knob,"touchstart",function(e){d.handleTouch(e,1)},true);b.Event.addDOMListener(this.knob,"touchend",function(e){d.handleTouch(e,2)},true);b.Event.addDOMListener(this.knob,"touchmove",function(e){d.handleTouch(e,3)},true);this.setPosition(1);this.canHide=true};b.video.VerticalVolume.prototype.WmouseDown=function(e){this.preventDefault(e);var c=(e.target||e.srcElement);var d=b.Util.getScrollXY();var g=b.browser.name=="ie"?document:window;b.Event.addDOMListener(g,"mouseup",this.__WmouseUp,true);if(c!=this.knob){this.offsetY=b.Util.getObjPos(this.track).y-this.knob.offsetHeight/2;return}this.offsetY=e.clientY+d.y-this.knob.offsetTop;this.lastY=e.clientY+d.y;this.inDrag=true;b.Event.addDOMListener(g,"mousemove",this.__WmouseMove,true);var f=new b.event.SliderEvent(b.event.SliderEvent.NOTF_SLIDER_DOWN,this.getPosition(),false);b.Event.dispatch(this.obj,f,false)};b.video.VerticalVolume.prototype.WmouseMove=function(c){this.moveTo(c.clientY+b.Util.getScrollXY().y);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_MOVE)};b.video.VerticalVolume.prototype.WmouseUp=function(c){this.preventDefault(c);var d=b.browser.name=="ie"?document:window;b.Event.removeDOMListener(d,"mouseup",this.__WmouseUp,true);if(this.inDrag){this.inDrag=false;b.Event.removeDOMListener(d,"mousemove",this.__WmouseMove,true)}else{this.moveTo(c.clientY+b.Util.getScrollXY().y);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_DOWN);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_MOVE)}this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP)};b.video.VerticalVolume.prototype.handleTouch=function(c,d){if(d!=3){this.preventDefault(c)}if(d==1){this.offsetY=c.targetTouches[0].clientY-this.knob.offsetTop;this.lastY=c.targetTouches[0].clientY;this.inTouch=true;this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_DOWN)}else{if(d==2){if(this.inTouch){this.inTouch=false;this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_UP)}}else{if(d==3){this.moveTo(c.targetTouches[0].clientY);var e=this.getPosition();if(this.prevPosCheck!=e){this.prevPosCheck=e;this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_MOVE)}}}}};b.video.VerticalVolume.prototype.preventDefault=function(c){b.Event.preventDefault(c);b.Event.stopPropagation(c)};b.video.VerticalVolume.prototype.getPosition=function(){var d=this.knob.offsetTop+this.knob.offsetHeight/2;var c=Math.abs(d-this.track.offsetTop-this.track.offsetHeight);return Math.min(1,Math.max(0,c<1?0:(1-(d-this.track.offsetTop)/this.track.offsetHeight)))};b.video.VerticalVolume.prototype.setPosition=function(c){var d=this.track.offsetTop+Math.min(1,Math.max(0,1-c))*this.track.offsetHeight-this.knob.offsetHeight/2;this.knob.style.top=d+"px";this.setFilledTrack(d);this.dispatchSliderEvent(b.event.SliderEvent.NOTF_SLIDER_MOVE)};b.video.VerticalVolume.prototype.setFilledTrack=function(f){var c=Math.ceil(f+this.knob.offsetHeight/2-this.track.offsetTop);this.filledtrack.style.top=c+"px";var e=Math.ceil(this.track.offsetTop+this.track.offsetHeight-f-this.knob.offsetHeight/2);var d=this.track.offsetHeight-(c+e);this.filledtrack.style.height=(e+d)+"px"};b.video.VerticalVolume.prototype.show=function(){this.obj.style.visibility="inherit"};b.video.VerticalVolume.prototype.hide=function(d){var e=this;function c(){if(!e.canHide||e.inTouch){return}e.obj.style.visibility="hidden";if(e.timer){clearInterval(e.timer)}}if(d>0){if(e.timer){clearInterval(e.timer)}this.timer=setInterval(c,d)}else{c()}};b.video.VerticalVolume.prototype.moveTo=function(c){var d=c-this.offsetY;var e=this.track.offsetTop-this.knob.offsetHeight/2;d=Math.min(Math.max(e,d),e+this.track.offsetHeight);this.knob.style.top=d+"px";this.setFilledTrack(d)};b.video.VerticalVolume.prototype.dispatchSliderEvent=function(c){var d=new b.event.SliderEvent(c,this.getPosition(),true);b.Event.dispatch(this.obj,d,false)};b.VerticalVolume=b.video.VerticalVolume;(function a(){var f=b.Util.css.createCssRuleText;var e=b.Util.css.createCssImgUrlText;var d=b.browser&&b.browser.name=="ie"&&b.browser.version.major>=10;var c=f(".s7verticalvolume",{position:"absolute","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","-ms-touch-action":d?"none":"","touch-action":d?"none":"",width:"25px",height:"80px","background-color":"#ccc"})+f(".s7verticalvolume .s7track",{position:"absolute",top:"12px",left:"10px",width:"5px",height:"55px","background-color":"#737373"})+f(".s7verticalvolume .s7filledtrack",{position:"absolute",left:"0px",width:"5px","background-color":"#ffffff"})+f(".s7verticalvolume .s7knob",{position:"absolute",width:"13px",height:"13px",top:"6px",left:"6px","background-image":e("volume_knob.png")});b.Util.css.addDefaultCSS(c,"VerticalVolume")})()}if(!b.video.MutableVolumeControl){b.video.MutableVolumeControl=function(c){arguments.callee.superclass.apply(this,[c,b.video.MutableVolumeControl.NS,c.constructor,b.video.MutableVolume.RESTRICTED_STYLES])};b.video.MutableVolumeControl.NS="s7sdk.video.MutableVolumeControl";b.video.MutableVolumeControl.prototype.rebuild=function(c){if(this.component){var e=this.component.getPosition();var d=this.component.activated;this.superproto.rebuild.apply(this,[c]);this.component.setPosition(e);if(d){this.component.activate()}else{this.component.deactivate()}}}}b.Class.inherits(b.video.MutableVolumeControl.NS,"s7sdk.ControlComponent");if(!b.video.MutableVolume){b.video.MutableVolume=function MutableVolume(c,e,d){var f=!!arguments[3];d=(typeof d=="string"&&d.length)?d:"MutableVolume_"+b.Util.createUniqueId();arguments.callee.superclass.apply(this,[d,c,"div","s7mutablevolume",e,!f]);this.createElement();this.container=this.getParent();this.attachToContainer();this.buildMutableVolume(d,e);if(!f){return new b.video.MutableVolumeControl(this)}else{return this}};b.Class.inherits("s7sdk.video.MutableVolume","s7sdk.UIComponent");b.video.MutableVolume.prototype.symbols={TOOLTIP_SELECTED:"Video Volume",TOOLTIP_UNSELECTED:"Video Volume"};b.video.MutableVolume.RESTRICTED_STYLES={s7mutablevolume:["width","height"],"s7mutablevolume s7mutebutton":["width","height"],"s7mutablevolume s7verticalvolume":["width","height"]};b.video.MutableVolume.prototype.resize=function(c,d){this.w=c;this.h=d;this.obj.style.width=c+"px";this.obj.style.height=d+"px";this.mutebtn.obj.style.width=c+"px";this.mutebtn.obj.style.height=d+"px";b.UIComponent.prototype.resize.apply(this,[c,d])};b.video.MutableVolume.prototype.getWidth=function(){return this.w};b.video.MutableVolume.prototype.getHeight=function(){return this.h};b.video.MutableVolume.prototype.setModifier=function(c){throw new Error("Trying to use setModifier on the Core class (MutableVolume) is unsupported! Please refer to SDK documentation on using setModifier.")};b.video.MutableVolume.prototype.setCSS=function(e,d,c){if(this.isRestrictedCSSProperty(b.video.MutableVolume.RESTRICTED_STYLES,d)){throw new Error("You cannot set "+e+" : "+d+" CSS property for this component ")}else{this.superclass.superclass.prototype.setCSS.apply(this,[e,d,c])}};b.video.MutableVolume.prototype.cleanUp=function(){if(this.obj){b.Util.removeTags(this.obj);this.obj.style.cssText=""}};b.video.MutableVolume.prototype.dispose=function(){if(this.obj){this.cleanUp();if(this.obj.parentElement){this.obj.parentElement.removeChild(this.obj)}}};b.video.MutableVolume.prototype.addEventListener=function(e,d,c){this.superproto.addEventListener.apply(this,[e,d,c])};b.video.MutableVolume.prototype.buildMutableVolume=function(d,e){this.verticalVolume=new b.video.VerticalVolume(d,e,null);this.mutebtn=new b.common.TwoStateButton("mute_"+b.Util.createUniqueId(),this.id,0,0,"s7mutebutton",e,true);var g=parseInt(b.Util.css.getCss("s7mutablevolume","width",this.id,null,this.container));var c=parseInt(b.Util.css.getCss("s7mutablevolume","height",this.id,null,this.container));this.w=g;this.h=c;this.mutebtn.obj.style.width=g+"px";this.mutebtn.obj.style.height=c+"px";this.mutebtn.symbols=this.symbols;this.mutebtn.toolTipSelected=this.getLocalizedText("TOOLTIP_SELECTED");this.mutebtn.toolTipUnselected=this.getLocalizedText("TOOLTIP_UNSELECTED");if(this.mutebtn.toolTipSelected||this.mutebtn.toolTipUnselected){this.mutebtn.toolTip_=new b.SimpleToolTip(this.mutebtn.obj,this.mutebtn.toolTipSelected)}this.activated=true;this.verticalVolume.obj.style.top=(-this.verticalVolume.obj.clientHeight)+"px";var f=this;this.verticalVolume.hide(0);this.addEventListener("mouseover",function(){f.componentRollover()});this.addEventListener("mouseout",function(){f.componentRollout()},true);this.enableClck=true;this.mutebtn.addEventListener("touchstart",function(){f.enableClck=true},false);this.mutebtn.addEventListener("touchend",function(){f.enableClck=false},false);this.verticalVolume.addEventListener(b.event.SliderEvent.NOTF_SLIDER_DOWN,function(h){f.onVolumeSlide(h,b.event.SliderEvent.NOTF_SLIDER_DOWN)},false);this.verticalVolume.addEventListener(b.event.SliderEvent.NOTF_SLIDER_MOVE,function(h){f.onVolumeSlide(h,b.event.SliderEvent.NOTF_SLIDER_MOVE)},false);this.verticalVolume.addEventListener(b.event.SliderEvent.NOTF_SLIDER_UP,function(h){f.onVolumeSlide(h,b.event.SliderEvent.NOTF_SLIDER_UP)},false);this.prevPos=0;this.prevPosCheck=0;this.setSelected(false);this.setPosition(1);var f=this;b.Event.addDOMListener(this.mutebtn.obj,"click",function(h){h=h||window.event;if(f.enableClck){f.componentClick(h)}},false)};b.video.MutableVolume.prototype.onVolumeSlide=function(d,c){if(b.browser.supportsTouch()){this.componentRollout(1500)}if(this.mutebtn.selected){if(d.s7event.position!=0){this.mutebtn.setSelected(false)}}else{if(d.s7event.position==0){this.setSelected(true)}}var f=this.getPosition();if(b.browser.name=="ie"&&b.browser.version.major<9){if(c==b.event.SliderEvent.NOTF_SLIDER_MOVE){if(this.prevPosCheck!=f){b.Event.dispatch(this.obj,new b.event.SliderEvent(b.event.SliderEvent.NOTF_SLIDER_MOVE,f,false),false)}}else{if(c==b.event.SliderEvent.NOTF_SLIDER_DOWN){b.Event.dispatch(this.obj,new b.event.SliderEvent(b.event.SliderEvent.NOTF_SLIDER_DOWN,f,false),false)}else{b.Event.dispatch(this.obj,new b.event.SliderEvent(c,f,false),false)}}this.prevPosCheck=f}};b.video.MutableVolume.prototype.componentClick=function(){if(!this.activated){return}if(b.browser.supportsTouch()){if(this.verticalVolume.obj.style.visibility!="hidden"){this.verticalVolume.canHide=false;this.setSelected(!this.mutebtn.selected);this.componentRollout(1500)}else{this.componentRollout(1500);this.verticalVolume.show()}}else{this.setSelected(!this.mutebtn.selected)}};b.video.MutableVolume.prototype.componentRollover=function(){this.verticalVolume.obj.style.top=(-this.verticalVolume.obj.clientHeight)+"px";this.verticalVolume.canHide=false;this.verticalVolume.show()};b.video.MutableVolume.prototype.componentRollout=function(d){var c=typeof(d)!="undefined"?d:500;this.verticalVolume.canHide=true;this.verticalVolume.hide(c)};b.video.MutableVolume.prototype.setSelected=function(c){this.mutebtn.setSelected(c);if(this.mutebtn.selected){this.prevPos=this.verticalVolume.getPosition();this.verticalVolume.setPosition(0)}else{this.verticalVolume.setPosition(this.prevPos==0?1:this.prevPos)}};b.video.MutableVolume.prototype.isSelected=function(){return this.mutebtn.isSelected()};b.video.MutableVolume.prototype.setPosition=function(c){this.verticalVolume.setPosition(c);this.mutebtn.setSelected(c==0)};b.video.MutableVolume.prototype.getPosition=function(){return this.verticalVolume.getPosition()};b.video.MutableVolume.prototype.activate=function(){if(this.activated){return}this.activated=true;this.mutebtn.activate();this.enableEvent(null)};b.video.MutableVolume.prototype.deactivate=function(){if(!this.activated){return}this.activated=false;this.mutebtn.deactivate();this.disableEvent(null)};b.MutableVolume=b.video.MutableVolume;(function a(){var f=b.Util.css.createCssRuleText;var e=b.Util.css.createCssImgUrlText;var d=b.browser&&b.browser.name=="ie"&&b.browser.version.major>=10;var c=f(".s7mutablevolume",{position:"absolute",width:"25px",height:"25px","-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","-ms-touch-action":d?"none":"","touch-action":d?"none":""})+f(".s7mutablevolume .s7mutebutton",{position:"absolute",width:"25px",height:"25px","background-size":"contain","background-repeat":"no-repeat","background-position":"center"})+f(".s7mutablevolume .s7mutebutton[selected='true'][state='up']",{"background-image":e("muteon_up.png")})+f(".s7mutablevolume .s7mutebutton[selected='true'][state='over']",{"background-image":e("muteon_over.png")})+f(".s7mutablevolume .s7mutebutton[selected='true'][state='down']",{"background-image":e("muteon_down.png")})+f(".s7mutablevolume .s7mutebutton[selected='true'][state='disabled']",{"background-image":e("muteon_disabled.png")})+f(".s7mutablevolume .s7mutebutton[selected='false'][state='up']",{"background-image":e("muteoff_up.png")})+f(".s7mutablevolume .s7mutebutton[selected='false'][state='over']",{"background-image":e("muteoff_over.png")})+f(".s7mutablevolume .s7mutebutton[selected='false'][state='down']",{"background-image":e("muteoff_down.png")})+f(".s7mutablevolume .s7mutebutton[selected='false'][state='disabled']",{"background-image":e("muteoff_disabled.png")})+f(".s7mutablevolume .s7verticalvolume",{position:"absolute",width:"25px",height:"80px",left:"0px","background-color":"#ccc"})+f(".s7mutablevolume .s7verticalvolume .s7track",{position:"absolute",top:"12px",left:"10px",width:"5px",height:"55px","background-color":"#737373"})+f(".s7mutablevolume .s7verticalvolume .s7filledtrack",{position:"absolute",left:"0px",width:"5px","background-color":"#ffffff"})+f(".s7mutablevolume .s7verticalvolume .s7knob",{position:"absolute",width:"13px",height:"13px",top:"6px",left:"6px","background-image":e("volume_knob.png")});b.Util.css.addDefaultCSS(c,"MutableVolume")})()}})(s7getCurrentNameSpace());