/*!************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2011 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/
(function(b){b.pkg("s7sdk.common");b.Util.require("s7sdk.event.Event");if(!b.common.ContainerControl){b.common.ContainerControl=function(c){arguments.callee.superclass.apply(this,[c,b.common.ContainerControl.NS,c.constructor,b.common.Container.RESTRICTED_STYLES])};b.common.ContainerControl.NS="s7sdk.common.ContainerControl";b.common.ContainerControl.prototype.setCSS=function(f,e,d){if(this.component){if(e=="width"||e=="height"){this.component.wid=-1;this.component.hei=-1;var h=b.Util.objByClassName(f,this.getParent());var g=b.Util.cssPropToJSProp(e);for(var c=0;c<h.length;c++){if(h[c]!=this.component.innerContainer){h[c].style[g]=d}}}else{this.component.setCSS(f,e,d)}this.dispatchEvent(new b.event.ControlComponentEvent(b.event.ControlComponentEvent.NOTF_CONTROLCOMPONENT_CSSUPDATED,{classname:f,property:e,value:d},false))}};b.common.ContainerControl.prototype.setModifier=function(e){var f="";var p=false;var s=this.component.getModifiers();var u=this.component.settings;for(var l in s){var g=l.toLowerCase();var q;if(e[g]){q=e[g];if(g=="stagesize"){if(q){var o,m;f=this.getWidth()+","+this.getHeight();var s=q.split(",");if(s&&s.length>1){o=parseInt(s[0]);m=parseInt(s[1]);this.component.resize(o,m);this.dispatchEvent(new b.event.ControlComponentEvent(b.event.ControlComponentEvent.NOTF_CONTROLCOMPONENT_MODIFIERUPDATED,{id:this.component.getId(),oldvalue:f,newvalue:o+","+m,property:g},false));p=true;continue}}}else{if(g=="aspect"&&!p){if(q){f=this.component.responsive.aspect;if(q){this.component.setAspect(q);this.dispatchEvent(new b.event.ControlComponentEvent(b.event.ControlComponentEvent.NOTF_CONTROLCOMPONENT_MODIFIERUPDATED,{oldvalue:f,newvalue:q,property:g},false));continue}}}}b.Logger.log(b.Logger.WARNING,"s7sdk.common.Container.setModifier ignored - %0: %1",g,q)}if((g=="sizemarkers")&&e.sizeMarkers){var r,j,t,d,v,c,n;v={};n="";c=this.component.sizeMarkers;j=s.sizeMarkers;d=b.Modifier.parse(e.sizeMarkers,s.sizeMarkers.defaults,s.sizeMarkers.ranges);if(d.values.length>0){for(var l=0;l<d.values.length;l++){v[j.params[l]]=d.values[l];n+=d.values[l]+" "}this.component.sizeMarkers=v}if(JSON.stringify(c)!=JSON.stringify(this.component.sizeMarkers)){this.component.sizeMarker=this.component.sizeSwitch(this.getWidth(),this.getHeight());this.dispatchEvent(new b.event.ControlComponentEvent(b.event.ControlComponentEvent.NOTF_CONTROLCOMPONENT_MODIFIERUPDATED,{oldvalue:JSON.stringify(c),newvalue:JSON.stringify(v),property:g},false))}}}};b.common.ContainerControl.prototype.unload=function(){};b.common.ContainerControl.prototype.rebuild=function(){}}b.Class.inherits(b.common.ContainerControl.NS,"s7sdk.ControlComponent");if(!b.common.Container){b.common.Container=function Container(h,d,k){var g=!!arguments[3];b.Logger.log(b.Logger.CONFIG,"s7sdk.common.Container constructor - containerId: %0, settings: %1 , compId: %2",h,d,k);arguments.callee.superclass.apply(this,[k,h,"div","s7container",d,!g]);this.settings=d;this.container=b.Util.byId(h);this.isPopup_=false;function j(m){var i=new RegExp("^\\s*$","gi").test(m);return !i}this.responsive={};if(!this.container||this.container.parentNode==document.body){var c=document.body.childNodes;var l=false;for(var e=0;e<c.length;e++){if(this.container&&this.container==c[e]){continue}switch(c[e].nodeType){case 1:if(c[e].tagName&&c[e].getAttribute&&(c[e].tagName.toLowerCase()=="script"||c[e].tagName.toLowerCase()=="style"||(c[e].getAttribute("data-description")=="Scene7ComponentHolder"&&c[e].tagName.toLowerCase()=="span"))){continue}else{l=true}break;case 3:if(j(c[e].nodeValue)){l=true}break}if(l){break}}this.isPopup_=!l}this.wid=this.stagesize.width;this.hei=this.stagesize.height;this.storedPosition=null;if(this.wid==0||this.hei==0){this.wid=this.size.width;this.hei=this.size.height}this.ie11NativeIsFullscreen=document.msFullscreenElement?true:false;this.isFixedSize_=false;this.storedWidth=this.wid;this.storedHeight=this.hei;this.inFullScreen=false;this.fullScreenRequested=false;this.sizeMarker=b.common.Container.SIZE_MARKER_NONE;this.init();this.isRemoved=this.getLayoutState();var f=this;if(this.isRemoved){setTimeout(function(){f.waitDisplay()},0)}else{this.completeInit();this.checkTimer=setInterval(function(){f.onCheckSize()},50)}if(!g){return new b.common.ContainerControl(this)}else{return this}};b.common.Container.prototype.completeInit=function(){this.responsive_wh=this.checkRelativeCssWH("s7container s7supressminsize",this.id,null,this.container,{mode:"normal"});this.responsive.aspect=this.aspect;this.responsive.freeRatio=this.aspect==0;this.responsive.fixedSize=false;if(this.wid!=0||this.hei!=0){this.responsive.fixedSize=true;this.responsive.freeRatio=true}if((this.wid!=0&&this.hei!=0)||(!this.responsive_wh.w&&!this.responsive_wh.h)){this.isFixedSize_=true}if(!this.responsive.freeRatio&&!this.responsive_wh.w){this.isFixedSize_=true}b.Logger.log(b.Logger.FINE,"s7sdk.common.Container responsive enabled: %0, freeRatio: %1",this.responsive.enabled,this.responsive.freeRatio);if(this.responsive.fixedSize){this.obj.style.width=this.wid+"px";this.obj.style.height=this.hei+"px"}this.obj.style.boxSizing="content-box";if((b.browser.name=="ie")&&(b.browser.version.minor<=8)&&!this.responsive.freeRatio){this.obj.style.height=1+"px"}this.onCheckSize(true);this.restoreSizeFlags();this.prewW=this.resH=this.resW=-1;this.onCheckSize();this.obj.style.boxSizing=""};b.common.Container.prototype.waitDisplay=function(){var c=this;if(this.getLayoutState()){setTimeout(function(){c.waitDisplay()},100);return}this.completeInit();this.checkTimer=setInterval(function(){c.onCheckSize()},50)};b.Class.inherits("s7sdk.common.Container","s7sdk.UIComponent");b.common.Container.prototype.getComponent=function(){return this};b.common.Container.prototype.dispose=function(){if(this.innerContainer.hasChildNodes()){}else{if(this.obj){if(this.checkTimer){clearInterval(this.checkTimer);this.checkTimer=null}b.Window.detach(this,"resizeByWindow");b.Util.removeTags(this.obj);if(this.obj.parentElement){this.obj.parentElement.removeChild(this.obj)}}}};b.common.Container.prototype.setCSS=function(e,d,c){this.superproto.setCSS.apply(this,[e,d,c])};b.common.Container.prototype.setModifier=function(c){throw new Error("Trying to use setModifier on the Core class (Container) is unsupported! Please refer to SDK documentation on using setModifier.")};b.common.Container.prototype.modifiers={stagesize:{params:["width","height"],defaults:[0,0],ranges:["0:","0:"]},aspect:{params:["ratio"],defaults:[0],ranges:["0:"]},size:{params:["width","height"],defaults:[0,0],ranges:["0:","0:"],deprecated:true},sizeMarkers:{params:["measurementType","smallMediumSize","mediumLargeSize"],defaults:["area",310000,920000],ranges:[["area","width"],"0:","0:"]}};b.common.Container.SIZE_MARKER_LARGE="size_large";b.common.Container.SIZE_MARKER_MEDIUM="size_medium";b.common.Container.SIZE_MARKER_SMALL="size_small";b.common.Container.SIZE_MARKER_NONE="size_none";b.common.Container.prototype.sizeSwitch=function(f,c){var e=0;var d=b.common.Container.SIZE_MARKER_LARGE;if(this.isRemoved){return d=b.common.Container.SIZE_MARKER_NONE}if(arguments.length>1&&this.sizeMarkers.measurementType=="area"){e=f*c}else{e=f}if(e<=this.sizeMarkers.smallMediumSize){d=b.common.Container.SIZE_MARKER_SMALL}else{if((e>this.sizeMarkers.smallMediumSize)&&(e<=this.sizeMarkers.mediumLargeSize)){d=b.common.Container.SIZE_MARKER_MEDIUM}else{d=b.common.Container.SIZE_MARKER_LARGE}}return d};b.common.Container.prototype.getSizeMarker=function(){this.onCheckSize(true);var c=this.sizeMarker;this.restoreSizeFlags();return c};b.common.Container.prototype.getWH=function(e,c){var d=b.Util.getStyle(e,c);if(d.indexOf("%")!=-1||d=="auto"){var g,f;if(c=="height"){g=e.offsetHeight;e.style.height=g+"px";f=e.offsetHeight;e.style.height=""}else{g=e.offsetWidth;e.style.width=g+"px";f=e.offsetWidth;e.style.width=""}d=2*g-f}return d.toString().indexOf("px")!=-1?d:d+"px"};b.common.Container.prototype.checkRelativeCssWH=function(k,f,d,e,i){var m,j;var g={};if(b.browser.name==="ie"&&b.browser.version.major<9){m=b.Util.css.getCss(k,"width",f,d,e,i);g.w=m.indexOf("%")!=-1;j=b.Util.css.getCss(k,"height",f,d,e,i);g.h=j.indexOf("%")!=-1}else{var l=b.Util.createElement("div",i);e=(e&&b.Util.isElement(e))?e:document.body;l.className=k;if(f&&f.length>0){l.setAttribute("id",f)}var c=document.createElement("div");c.style.position="absolute";g.origW=this.getWH(e,"width");g.origH=this.getWH(e,"height");c.style.width="100px";c.style.height="100px";c.style.backgroundColor="#ff6060";e.appendChild(c);c.appendChild(l);m=this.getWH(l,"width");c.style.width="200px";g.w=m!=this.getWH(l,"width");m=this.getWH(l,"height");c.style.height="200px";g.h=m!=this.getWH(l,"height");c.removeChild(l);e.removeChild(c)}return g};b.common.Container.prototype.isInLayout=function(){this.onCheckSize(true);var c=!this.isRemoved;this.restoreSizeFlags();return c};b.common.Container.prototype.invalidate=function(c){this.ssb=null;this.prewW=this.resH=this.resW=-1;this.onCheckSize(c);if(c){this.restoreSizeFlags()}};b.common.Container.prototype.getLayoutState=function(){return this.obj.offsetParent==null||((b.browser.name==="ie"&&b.browser.version.major<11)&&this.obj.offsetParent==document.body&&this.obj.offsetWidth==0&&this.obj.offsetHeight==0)};b.common.Container.prototype.restoreSizeFlags=function(){this.sizeMarker=this.prevSizeMarker;this.isRemoved=this.prevIsRemoved;this.resW=this.prevResW;this.resH=this.prevResH};b.common.Container.prototype.onCheckSize=function(j){this.prevSizeMarker=this.sizeMarker;this.prevIsRemoved=this.isRemoved;this.prevResW=this.resW;this.prevResH=this.resH;var l=this.obj.clientWidth;var g=this.obj.clientHeight;var i=this.getLayoutState();var e=null;var d;if(this.isRemoved!=i){this.isRemoved=i;this.resW=this.resH=-1;e=this.sizeSwitch(l,g);d=this.sizeMarker!=e;this.sizeMarker=e;if(!j){this.dispatchEvent(new b.event.ResizeEvent(this.isRemoved?b.event.ResizeEvent.REMOVED_FROM_LAYOUT:b.event.ResizeEvent.ADDED_TO_LAYOUT,l,g,false));if(d){this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.SIZE_MARKER_CHANGE,l,g,false))}}}if(this.prewW!=l&&!this.isRemoved){if(!this.responsive.freeRatio){var n=this.hasVerticalScroll().vScrollbar;if(this.ssb&&this.ssb.min){if(this.ssb.min<=l&&l<=this.ssb.max&&Math.abs(this.prewW-l)<=this.ssb.w){if(this.resW!=l||this.resH!=g){this.resW=l;this.resH=g;if(!j&&!this.isFullScreen()){this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.COMPONENT_RESIZE,l,g,false))}}e=this.sizeSwitch(l,g);d=this.sizeMarker!=e;this.sizeMarker=e;if(!j&&d){this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.SIZE_MARKER_CHANGE,l,g,false))}return}}g=Math.round(l/this.responsive.aspect);this.obj.style.height=g+"px";var o=this.obj.offsetHeight;this.obj.style.maxHeight="none";var f=this.obj.offsetHeight;this.obj.style.maxHeight="";if(o!=f){l=Math.round(o*this.responsive.aspect);this.obj.style.maxWidth=l+"px";l=this.obj.clientWidth}var m=this.hasVerticalScroll().vScrollbar;if(!this.ssb&&m){this.ssb={};var k=(b.browser.name==="ie"&&b.browser.version.major<9)?document.body:document.documentElement;var c=k.offsetWidth;k.style.overflow="hidden";this.ssb.w=k.offsetWidth-c+2;k.style.overflow=""}if(this.ssb&&n!=m){this.ssb.max=l+this.ssb.w;this.ssb.min=l-this.ssb.w}}this.prewW=l=this.obj.clientWidth;g=this.obj.clientHeight}if(this.resW!=l||this.resH!=g){this.resW=l;this.resH=g;e=this.sizeSwitch(l,g);d=this.sizeMarker!=e;this.sizeMarker=e;if(!j&&d){this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.SIZE_MARKER_CHANGE,l,g,false))}if(this.isFullScreen()){j=true}if(!j){this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.COMPONENT_RESIZE,l,g,false))}}};b.common.Container.prototype.hasVerticalScroll=function(){var c={vScrollbar:true,hScrollbar:true};try{var d=document.compatMode=="BackCompat"?document.body:document.documentElement;c.vScrollbar=d.scrollHeight>d.clientHeight;c.hScrollbar=d.scrollWidth>d.clientWidth}catch(f){}return c};b.common.Container.prototype.getInnerContainerId=function(){return this.innerContainer.id};b.common.Container.prototype.init=function(){var c=this.getParent();this.createElement();this.obj.setAttribute("mode","normal");if(typeof this.obj!="undefined"){this.obj.style.position="relative";c.appendChild(this.obj);this.resize(this.wid,this.hei);b.Window.attach(this,"resizeByWindow")}this.innerContainer=document.createElement("div");this.innerContainer.setAttribute("mode","normal");this.innerContainer.className="s7container s7innercontainer";var d=this.obj.id;this.innerContainer.id=this.obj.id+"_inner";this.obj.appendChild(this.innerContainer)};b.common.Container.prototype.resizeByWindow=function(c,d){if(this.inFullScreen){b.Util.css.setCSSAttributeSelector(this.obj,"mode","fullscreen");this.innerContainer.style.width=c+"px";this.innerContainer.style.height=d+"px";this.moveToTopLeft(this.innerContainer);this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.COMPONENT_RESIZE,c,d,false));return}this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.WINDOW_RESIZE,c,d,false));if((b.browser.name=="ie")&&(b.browser.version.minor>5.5)&&(b.browser.version.minor<=8)){b.Window.ignoreNextResize=true}};b.common.Container.prototype.resize=function(c,d){if(this.wid!=c||this.hei!=d){this.responsive.fixedSize=true;this.responsive.freeRatio=true;this.wid=c;this.hei=d;this.obj.style.width=this.wid+"px";this.obj.style.height=this.hei+"px";this.commonresize(c,d)}};b.common.Container.prototype.commonresize=function(c,e,d){b.Logger.log(b.Logger.FINE,"s7sdk.common.Container.commonresize - w: %0, h: %1",c,e);if(b.Util.isNumber(c)&&b.Util.isNumber(e)){this.storedWidth=c;this.storedHeight=e;this.wid=c;this.hei=e;if(d){this.obj.style.width="";this.obj.style.height="";if((b.browser.name=="ie")&&(b.browser.version.minor<=8)&&!this.responsive.freeRatio){this.obj.style.height=1+"px"}}else{this.obj.style.width=c+"px";this.obj.style.height=e+"px"}this.ssb=null;this.prewW=this.resH=this.resW=-1;if(!d){this.onCheckSize()}if((b.browser.name=="ie")&&(b.browser.version.minor>5.5)&&(b.browser.version.minor<=8)){b.Window.ignoreNextResize=true}}b.UIComponent.prototype.resize.apply(this,[c,e])};b.common.Container.prototype.supportsNativeFullScreen=function(){var c=false;if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){c=true}return c};b.common.Container.prototype.requestFullScreen=function(){if(!this.fullScreenRequested&&!this.isFullScreen()){b.Logger.log(b.Logger.FINE,"s7sdk.common.Container.requestFullScreen");var c,g;this.fullScreenRequested=true;this.storedPosition=new Object();if(this.supportsNativeFullScreen()){var e=this;function f(p){var n=(b.browser.name==="ie"&&b.browser.version.major>=11)?!e.ie11NativeIsFullscreen:e.isFullScreen();if(n){e.ie11NativeIsFullscreen=true;e.inFullScreen=true;j=b.browser.detectScreen().w;l=b.browser.detectScreen().h;b.Util.css.setCSSAttributeSelector(e.innerContainer,"mode","fullscreen");if(b.browser.name=="safari"&&b.browser.raw.ua.indexOf("version/6")!=-1){var o=b.browser.raw.ua.split("version/6.");var m=o[1].split(".");if(parseInt(m[0])<2){b.Util.css.setCSSAttributeSelector(e.obj,"mode","fullscreen");e.innerContainer.style.width=j+"px";e.innerContainer.style.height=l+"px";e.moveToTopLeft(e.innerContainer)}}var k=e.sizeSwitch(j,l);if(e.sizeMarker!=k){e.sizeMarker=k;e.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.SIZE_MARKER_CHANGE,j,l,false))}e.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.FULLSCREEN_RESIZE,j,l,false))}else{e.inFullScreen=false;e.ie11NativeIsFullscreen=false;e.fullScreenRequested=false;if(e.innerContainer.requestFullscreen){b.Event.removeDOMListener(document,"fullscreenchange",f,true)}else{if(e.innerContainer.webkitRequestFullscreen){b.Event.removeDOMListener(document,"webkitfullscreenchange",f,true)}else{if(e.innerContainer.mozRequestFullScreen){b.Event.removeDOMListener(document,"mozfullscreenchange",f,true)}else{if(e.innerContainer.msRequestFullscreen){b.Event.removeDOMListener(document,"MSFullscreenChange",f,true)}}}}e.innerContainer.style.left="0px";e.innerContainer.style.top="0px";e.innerContainer.style.width="";e.innerContainer.style.height="";e.invalidate(false);b.Util.css.setCSSAttributeSelector(e.obj,"mode","normal");b.Util.css.setCSSAttributeSelector(e.innerContainer,"mode","normal");var j=e.getWidth();var l=e.getHeight();var k=e.sizeSwitch(j,l);if(e.sizeMarker!=k){e.sizeMarker=k;e.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.SIZE_MARKER_CHANGE,j,l,false))}e.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.FULLSCREEN_RESIZE,e.getWidth(),e.getHeight(),false))}}if(this.innerContainer.requestFullscreen){b.Event.addDOMListener(document,"fullscreenchange",f,true);this.innerContainer.requestFullscreen()}else{if(this.innerContainer.webkitRequestFullscreen){b.Event.addDOMListener(document,"webkitfullscreenchange",f,true);this.innerContainer.webkitRequestFullscreen()}else{if(this.innerContainer.mozRequestFullScreen){b.Event.addDOMListener(document,"mozfullscreenchange",f,true);this.innerContainer.mozRequestFullScreen()}else{if(this.innerContainer.msRequestFullscreen){b.Event.addDOMListener(document,"MSFullscreenChange",f,true);this.innerContainer.msRequestFullscreen()}}}}}else{this.inFullScreen=true;if(b.browser.supportsTouch()){b.Event.addDOMListener(document.body,"touchmove",this.preventScroll,false)}this.storedPosition.scrollBody=document.body.style.overflow;this.storedPosition.scrollBodyX=document.body.style.overflowX;this.storedPosition.scrollBodyY=document.body.style.overflowY;var i=b.browser.device;c=b.browser.detectScreen().w;g=b.browser.detectScreen().h;if(!((i.name=="ipad"||i.name=="iphone")&&b.browser.device.version<9.2)){document.body.style.overflow="hidden"}this.moveToTopLeft(this.innerContainer);if((i.name=="ipad"||i.name=="iphone")&&b.browser.detectScreen().w==981){c-=1}this.resizeByWindow(c,g);var d=this.sizeSwitch(c,g);if(this.sizeMarker!=d){this.sizeMarker=d;this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.SIZE_MARKER_CHANGE,c,g,false))}this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.FULLSCREEN_RESIZE,c,g,false))}}};b.common.Container.prototype.preventScroll=function(c){var c=c||window.event;b.Event.preventDefault(c)};b.common.Container.prototype.isMobile=function(){var c=navigator.userAgent.toLowerCase();return(c.match(/(iphone|ipod|ipad|android)/))};b.common.Container.prototype.moveToTopLeft=function(h){b.Util.css.setCSSAttributeSelector(h,"mode","fullscreen");var d=parseInt(b.Util.getStyle(h,"left"));var g=parseInt(b.Util.getStyle(h,"top"));d=b.Util.isNumber(d)?d:-parseInt(b.Util.getStyle(h,"right"));g=b.Util.isNumber(g)?g:-parseInt(b.Util.getStyle(h,"bottom"));d=b.Util.isNumber(d)?d:0;g=b.Util.isNumber(g)?g:0;var e=h.getBoundingClientRect();var c=e.left-d;var f=e.top-g;h.style.left=-c+"px";h.style.top=-f+"px"};b.common.Container.prototype.cancelFullScreen=function(){this.fullScreenRequested=false;if(this.isFullScreen()){this.innerContainer.style.width="";this.innerContainer.style.height="";b.Logger.log(b.Logger.FINE,"s7sdk.common.Container.cancelFullScreen");this.inFullScreen=false;if(this.supportsNativeFullScreen()){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}}}}}else{if(b.browser.supportsTouch()){b.Event.removeDOMListener(document.body,"touchmove",this.preventScroll,false)}document.body.style.overflow=this.storedPosition.scrollBody;document.body.style.overflowX=this.storedPosition.scrollBodyX;document.body.style.overflowY=this.storedPosition.scrollBodyY;b.Util.css.setCSSAttributeSelector(this.obj,"mode","normal");b.Util.css.setCSSAttributeSelector(this.innerContainer,"mode","normal");this.innerContainer.style.left="";this.innerContainer.style.top="";this.invalidate(false);this.dispatchEvent(new b.event.ResizeEvent(b.event.ResizeEvent.FULLSCREEN_RESIZE,this.getWidth(),this.getHeight(),false))}}};b.common.Container.prototype.isFullScreen=function(){b.Logger.log(b.Logger.FINE,"s7sdk.common.Container.isFullScreen");var c=typeof(document.webkitIsFullScreen)!="undefined"?document.webkitIsFullScreen:document.mozFullScreen;if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement){c=true}return(typeof c!="undefined"?c:this.inFullScreen)};b.common.Container.prototype.addEventListener=function(e,d,c){b.Logger.log(b.Logger.FINE,"s7sdk.common.Container.addEventListener - type: %0, handler: %1, useCapture: %2",e,d.toString().substring(0,d.toString().indexOf("(")),c);b.Base.prototype.addEventListener.apply(this,[e,d,c])};b.common.Container.prototype.getWidth=function(){var c=this.resW;if(typeof(c)=="undefined"||c<=0||this.obj.clientWidth!=c){this.onCheckSize(true);c=this.resW;this.restoreSizeFlags()}return c};b.common.Container.prototype.getHeight=function(){var c=this.resH;if(typeof(c)=="undefined"||c<=0||this.obj.clientHeight!=c){this.onCheckSize(true);c=this.resH;this.restoreSizeFlags()}return c};b.common.Container.prototype.isFixedSize=function(){return this.isFixedSize_};b.common.Container.prototype.isPopup=function(){return this.isPopup_};b.common.Container.prototype.setAspect=function(c){this.responsive.aspect=c;this.responsive.freeRatio=c==0;this.invalidate(false)};b.Container=b.common.Container;(function a(){var d=b.browser&&b.browser.name=="ie"&&b.browser.version.major>=10;var c=b.Util.css.createCssRuleText(".s7container",{width:"100%",height:"100%","-ms-touch-action":d?"none":"","touch-action":d?"none":""})+b.Util.css.createCssRuleText(".s7container .s7innercontainer",{position:"relative",left:"0px",top:"0px",width:"100%",height:"100%",border:"0px !important",margin:"0px !important",padding:"0px !important","max-width":"none !important","max-height":"none !important"})+b.Util.css.createCssRuleText(".s7container[mode='fullscreen']",{"z-index":"9900",overflow:"visible !important"})+b.Util.css.createCssRuleText(".s7container .s7innercontainer[mode='fullscreen']",{position:"absolute"})+(b.browser.device.name=="android"&&b.browser.raw.ua.match(/Android 4.0./i)?b.Util.css.createCssRuleText(".s7container .s7innercontainer[mode='normal']",{"z-index":"0"}):"")+b.Util.css.createCssRuleText(".s7supressminsize",{padding:"0px !important",border:"0px !important","min-width":"0px !important","min-height":"0px !important"});b.Util.css.addDefaultCSS(c,"Container")})()}})(s7getCurrentNameSpace());